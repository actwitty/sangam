!!!
%html
  %head
    %meta{:charset => 'utf-8'}
    %title ActWitty - Check-in your interests
    = include_stylesheets :defaults
    -if @page_mode == "landing_page" or @page_mode == "authentications_page"
      = include_stylesheets :landing_pages
    -if @page_mode == "profile_main"
      = include_stylesheets :profile_pages
      = include_stylesheets :profile_pages_externals
      
    %meta{'http-equiv' => 'X-UA-Compatible', :content => 'IE=edge,chrome=1'}
    %meta{"http-equiv"=>"Content-Type", :content=>"text/html; charset=utf-8"}/
    %script{:src => "http://maps.google.com/maps/api/js?sensor=false", :type => "text/javascript"}
    = include_javascripts :jquery
    = javascript_tag "var AUTH_TOKEN = #{form_authenticity_token.inspect};" if protect_against_forgery?
    
    -if @page_mode != "authentications_page"
      = include_javascripts :autocomplete
    = include_javascripts :actwittyall
    = include_javascripts :profile_main
    = include_javascripts :profile_main_extra

    %script{:src => "http://use.typekit.com/fuc7nvw.js", :type => "text/javascript"}

    :javascript
      try{Typekit.load();}catch(e){}
    :javascript
      if ($.browser.msie && $.browser.version.substr(0,1)<9){
        alert("oops!! You seems to be using older version of browser, ActWitty is not supported yet on your browser version. We suggest you to upgrade to higher version.");
      }
    = csrf_meta_tag
     
    %link{:href => "/images/actwitty/favicon.ico", :rel => "icon", :type => "image/ico"}/
    
    
  /%body
  %body
    =render :partial => "home/modal"
    = yield
   
    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-24404937-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
