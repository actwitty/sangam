var aw_local_users_channels_data = {
                                      'cats' :       {'category':'animals'},
                                      'dogs' :       {'category':'animals'},
                                      'hamsters' :   {'category':'animals'},
                                      'fish' :       {'category':'animals'},
                                      'mice' :       {'category':'animals'},
                                      'birds' :       {'category':'animals'},
                                      'snakes' :       {'category':'animals'},
                                      'AnimalCare' :       {'category':'animals'},
                                      'RareSpecies' :       {'category':'animals'},
                                      'ExtinctSpecies' :       {'category':'animals'},
                                      'zoo' :       {'category':'animals'},
                                      'WildLife' :       {'category':'animals'},

                                      'painting' :      {'category':'arts'},
                                      'drawing' :       {'category':'arts'},
                                      'bouquet' :       {'category':'arts'},
                                      'papercraft' :       {'category':'arts'},
                                      'knitting' :       {'category':'arts'},
                                      'JweleryMaking' :       {'category':'arts'},
                                      'Crochet' :       {'category':'arts'},
                                      'Photoshop' :       {'category':'arts'},
                                      'MacroShots' :       {'category':'arts'},
                                      'NaturePhotography' :       {'category':'arts'},
                                      'CameraAndLenses' :       {'category':'arts'},
                                      'AbstractArt' :       {'category':'arts'},
                                      'Pottery' :       {'category':'arts'},
                                      'Handicraft' :       {'category':'arts'},
                                      'Floristry' :       {'category':'arts'},
                                      'WoodCarving' :       {'category':'arts'},
                                      'Sculpting' :       {'category':'arts'},
                                      'ArtSelling' :       {'category':'arts'},
                                      'ArtCollection' :       {'category':'arts'},
                                      'Dancing' :       {'category':'arts'},


                                      'Books' :         {'category':'books'},
                                      'Reading' :         {'category':'books'},
                                      'BookLending' :         {'category':'books'},
                                      'Library' :         {'category':'books'},
                                      'ComicBooks' :         {'category':'books'},
                                      'FictionBooks' :         {'category':'books'},
                                      'Memoirs' :         {'category':'books'},
                                      'OnlineBooks' :         {'category':'books'},
                                      'KindleBooks' :         {'category':'books'},
                                      'SpritualBooks' :         {'category':'books'},
                                      'MotivationalBooks' :         {'category':'books'},
                                      'PoetryBooks' :         {'category':'books'},
                                      'ReligiousBooks' :         {'category':'books'},
                                      'DIYBooks' :         {'category':'books'},
                                      'TechnicalBooks' :         {'category':'books'},
                                      'Essays' :         {'category':'books'},
                                      'SchoolBooks' :         {'category':'books'},
                                      'Literature' :         {'category':'books'},
                                      'HumorousBooks' :         {'category':'books'},
                                      'HorrorBooks' :         {'category':'books'},
                                      
                                      'Business' :      {'category':'business'},
                                      'Startups' :      {'category':'business'},
                                      'Startups' :      {'category':'business'},
                                      'Buying' :      {'category':'business'},
                                      'Sold' :      {'category':'business'},
                                      'Own' :      {'category':'business'},
                                      'StockMarkets' :      {'category':'business'},
                                      'NYSE' :      {'category':'business'},
                                      'BSE' :      {'category':'business'},
                                      'OnlineTrading' :      {'category':'business'},
                                      'BusinessNews' :      {'category':'business'},

                                      'Cars' :           {'category':'automobiles'},
                                      'Motorbikes' :     {'category':'automobiles'},
                                      'Cycles' :         {'category':'automobiles'},
                                      'Mycar' :          {'category':'automobiles'},
                                      'CarMaintenance' : {'category':'automobiles'},
                                      'Driving' :        {'category':'automobiles'},
                                      'RoadTrip' :       {'category':'automobiles'},
                                      'BuyingACar' :     {'category':'automobiles'},
                                      'DreamCar' :     {'category':'automobiles'},

                                      'celebrations' :  {'category':'places'},
                                      'birthdays' :  {'category':'places'},
                                      'thanksgiving' :  {'category':'places'},
                                      'newyears' :  {'category':'places'},
                                      'christmas' :  {'category':'places'},
                                      'GoodFriday' :  {'category':'places'},
                                      'EasterSunday' :  {'category':'places'},
                                      'YomKippur' :  {'category':'places'},
                                      'Sabbath' :  {'category':'places'},
                                      'IndependenceDay' :  {'category':'places'},
                                      'Eid' :  {'category':'places'},
                                      'anniversary' :  {'category':'places'},
                                      'diwali' :  {'category':'places'},
                                      'Onam' :  {'category':'places'},
                                      'Pongal' :  {'category':'places'},

                                      'Culture' :       {'category':'politics'},
                                      'Society' :       {'category':'politics'},
                                      'Elections' :       {'category':'politics'},
                                      'Politics' :       {'category':'politics'},
                                      'Corruption' :       {'category':'politics'},
                                      'MyOpinion' :       {'category':'politics'},
                                      'Progress' :       {'category':'politics'},
                                      'Wars' :       {'category':'politics'},
                                      'Peace' :       {'category':'politics'},
                                      'Leaders' :       {'category':'politics'},

                                      'Entertainment' : {'category':'entertainment'},
                                      'Movies' : {'category':'entertainment'},
                                      'Music' : {'category':'entertainment'},
                                      'TVShows' : {'category':'entertainment'},
                                      'Concert' : {'category':'entertainment'},
                                      'RockBand' : {'category':'entertainment'},
                                      'Radio' : {'category':'entertainment'},
                                      'Videos' : {'category':'entertainment'},
                                      'Guitar' : {'category':'entertainment'},
                                      
                                      'Education' :     {'category':'education'},
                                      'University' :     {'category':'education'},
                                      'Schools' :     {'category':'education'},
                                      'Science' :     {'category':'education'},
                                      'Maths' :     {'category':'education'},
                                      'Doctors' :     {'category':'education'},
                                      'Medicine' :     {'category':'education'},
                                      'Geography' :     {'category':'education'},

                                      'Fashion' :       {'category':'leisure'},
                                      'MensAccessories' :       {'category':'leisure'},
                                      'WomensAccessories' :       {'category':'leisure'},
                                      'Cosmetics' :       {'category':'leisure'},
                                      'FashionBrands' :       {'category':'leisure'},
                                      'Jwellery' :       {'category':'leisure'},
                                      'HairStyling' :       {'category':'leisure'},
                                      'Shoes' :       {'category':'leisure'},
                                      'Bags' :       {'category':'leisure'},
                                      'Watches' :       {'category':'leisure'},
                                      'Bangles' :       {'category':'leisure'},

                                      'Food' :          {'category':'food'},
                                      'Wines' :          {'category':'food'},
                                      'Dining' :          {'category':'food'},
                                      'Restaurants' :          {'category':'food'},
                                      'Cooking' :          {'category':'food'},
                                      'Bakeries' :          {'category':'food'},
                                      'Chocolates' :          {'category':'food'},
                                      'Recipes' :          {'category':'food'},
                                      'Beer' :          {'category':'food'},
                                      'Breads' :          {'category':'food'},
                                      'Pizzas' :          {'category':'food'},
                                      'ChineseFood' :          {'category':'food'},
                                      'ItalianFood' :          {'category':'food'},
                                      'MexicanFood' :          {'category':'food'},
                                      'IndianFood' :          {'category':'food'},


                                      'Toys' :          {'category':'games'},
                                      'Scrabble' :          {'category':'games'},
                                      'StuffedToys' :          {'category':'games'},
                                      'OnlineGaming' :          {'category':'games'},
                                      'SuperMario' :          {'category':'games'},
                                      'Contra' :          {'category':'games'},
                                      'AngryBirds' :          {'category':'games'},
                                      'AllYourBaseAreBelongToUs' :          {'category':'games'},
                                      'PacMan' :          {'category':'games'},
                                      'Tetris' :          {'category':'games'},
                                      'XBox' :          {'category':'games'},
                                      'Kinect' :          {'category':'games'},
                                      'Nintendo' :          {'category':'games'},
                                      'Sega' :          {'category':'games'},
                                      'PlayStation' :          {'category':'games'},
                                      'Crosswords' :          {'category':'games'},
                                      
                                      'Health' :        {'category':'health'},
                                      'Gym' :        {'category':'health'},
                                      'Fitness' :        {'category':'health'},
                                      'Spa' :        {'category':'health'},
                                      'BreastCancer' :        {'category':'health'},
                                      'HIV' :        {'category':'health'},
                                      'Vaccinations' :        {'category':'health'},
                                      'WorldHealth' :        {'category':'health'},
                                      'HealthInsurance' :        {'category':'health'},
                                      'Hospitals' :        {'category':'health'},
                                      'Aging' :        {'category':'health'},
                                      'Infants' :        {'category':'health'},
                                      
                                      'Home' :          {'category':'home'},
                                      'Kids' :       {'category':'home'},
                                      'Parenting' :       {'category':'home'},
                                      'Curtains' :       {'category':'home'},
                                      'Decorations' :       {'category':'home'},
                                      'Furnitures' :       {'category':'home'},
                                      'BuyingHome' :       {'category':'home'},
                                      'BuyingHome' :       {'category':'home'},

                                      'Hobbies' :       {'category':'hobbies'},
                                      'Blogging' :       {'category':'hobbies'},
                                      'Gardening' :       {'category':'hobbies'},
                                      'StampCollection' :       {'category':'hobbies'},
                                      'BathroomSinging' :       {'category':'hobbies'},

                                      'NGO' :     {'category':'nonprofit'},
                                      'GlobalWarming' :     {'category':'nonprofit'},
                                      'Nature' :     {'category':'nonprofit'},
                                      'Poverty' :     {'category':'nonprofit'},
                                      'Hunger' :     {'category':'nonprofit'},
                                      'Starvation' :     {'category':'nonprofit'},
                                      'FloodRelief' :     {'category':'nonprofit'},
                                      'EarthQuakes' :     {'category':'nonprofit'},
                                      'GreenEnergy' :     {'category':'nonprofit'},

                                      'Sports' :        {'category': 'sports'},
                                      'Tennis' :        {'category': 'sports'},
                                      'Cycling' :        {'category': 'sports'},
                                      'Running' :        {'category': 'sports'},
                                      'WaterSports' :        {'category': 'sports'},
                                      'OutdoorSports' :        {'category': 'sports'},
                                      'IndoorSports' :        {'category': 'sports'},
                                      'Walking' :        {'category': 'sports'},
                                      'Jogging' :        {'category': 'sports'},
                                      'Badminton' :        {'category': 'sports'},
                                      'Yoga' :        {'category': 'sports'},
                                      'MartialArts' :        {'category': 'sports'},

                                      'Stories' :       {'category':'stories'},
                                      'Family' :       {'category':'stories'},
                                      'Jokes' :       {'category':'stories'},
                                      'Fun' :       {'category':'stories'},
                                      'Life' :       {'category':'stories'},
                                      'God' :       {'category':'stories'},
                                      'Religion' :       {'category':'stories'},
                                      'Dreams' :       {'category':'stories'},

                                      'Technology' :    {'category':'technology'},
                                      'Electronics' :    {'category':'technology'},
                                      'Android' :    {'category':'technology'},
                                      'IPhone' :    {'category':'technology'},
                                      'BlackBerry' :    {'category':'technology'},
                                      'Gadgets' :    {'category':'technology'},
                                      'Internet' :    {'category':'technology'},
                                      'TechJobs' :    {'category':'technology'},
                                      'TechReads' :    {'category':'technology'},
                                      'SteveJobs' :    {'category':'technology'},
                                      'Programming' :    {'category':'technology'},

                                      'Travel' :        {'category':'places'},
                                      'Hiking' :        {'category':'places'},
                                      'NorthAmerica' :        {'category':'places'},
                                      'Asia' :        {'category':'places'},
                                      'Africa' :        {'category':'places'},
                                      'Australia' :        {'category':'places'},
                                      'SouthAmerica' :        {'category':'places'},
                                      'China' :        {'category':'places'},
                                      'Hills' :        {'category':'places'},
                                      'Seas' :        {'category':'places'},
                                      'HotelsAndStays' :        {'category':'places'},
                                      'Vaccations' :        {'category':'places'},
                                      'Flying' :        {'category':'places'},
                                   };

var aw_local_users_channel_names = [];

jQuery.fn.sort = function() {  
    return this.pushStack( [].sort.apply( this, arguments ), []);  
};  

 function sort_on_name(a,b){  
     if (a.name == b.name){
       return 0;
     }
     return a.l_name> b.l_name ? 1 : -1;  
 };  
  function sort_on_name_desc(a,b){  
     return sort_on_name(a,b) * -1;  
 };


/*
 *
 *
 */
function aw_api_srv_resp_ppm_cmn_render_user_suggest_channels(params){

  var data = aw_api_srv_get_data_for_request('AW_SRV_PPM_CMN_GET_USER_AUTOCOMPELTE_CHANNELS');
  //create an array for auto suggest to work properly
  aw_local_users_channel_names = [];
  for (var key in aw_local_users_channels_data) {
    aw_local_users_channel_names.push({'name':key});
  }
  //////////////////////////////////////////////
  //
  //
  $.each(data, function(i,channel){
    if( channel ){
        var channel_name = channel.name;
        if ( !aw_local_users_channels_data[channel_name] || 
                   aw_local_users_channels_data[channel_name].length == 0 ){
          //TODO: Fix the category, rails must send this
          // A new channel found other than the default accept this.
          var new_category={'category':'__EXISTING__'};
          aw_local_users_channels_data[channel_name] = new_category; 
          aw_local_users_channel_names.push({'name':channel_name});
        }
    }

  });
  
 var aw_local_users_channel_names_sorted = aw_local_users_channel_names.sort(sort_on_name_desc);




  /* register this only when JSON is ready */
  $("#aw_js_ppm_input_channel_name").autocomplete(aw_local_users_channel_names_sorted, {
     	  minChars: 0,
		    matchContains: true,
		    highlightItem: false,
        formatItem: function(channel) {
          return channel.name;
        }
      }).result(function(event, item) {
        $("#aw_js_ppm_input_channel_category").val(aw_local_users_channels_data[item.name].category);
      });
}


/*
 *
 *
 */
function aw_api_ppm_input_initialize_auto_suggest(){
   var params = {
                  'aw_srv_protocol_params' : {
                                                 user_id: aw_lib_get_page_owner_id(),
                                                 sort_order: 1,
                                                 cache_cookie:aw_lib_get_cache_cookie_id()
                                             },
                  'aw_srv_protocol_cookie' : {}
               };
  aw_api_srv_make_a_get_request('AW_SRV_PPM_CMN_GET_USER_AUTOCOMPELTE_CHANNELS',  params);
  $("#aw_js_ppm_input_channel_name").one("keypress", function () {
    $("#aw_js_ppm_category_hide").show();
  });
}

